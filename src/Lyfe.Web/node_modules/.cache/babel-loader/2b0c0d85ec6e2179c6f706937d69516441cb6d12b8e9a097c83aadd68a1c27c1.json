{"ast":null,"code":"export function dateFormatter(d) {\n  const date = new Date(d);\n  const month = date.toLocaleDateString(\"en-AU\", {\n    month: \"short\"\n  }); // Jan\n  const day = date.toLocaleDateString(\"en-AU\", {\n    day: \"2-digit\"\n  }); // 01\n\n  return `${month} ${day}`; // Jan 01\n}\n\nexport function dataFormatter(d) {\n  return d.map(w => ({\n    \"Date\": dateFormatter(w.currentDate),\n    \"Weight\": w.currentWeight,\n    \"Goal Weight\": w.goalWeight\n  }));\n}\nexport function latest(d) {\n  return d.at(-1); // Get the last element from the array\n}\n\nexport function minValue(d) {\n  return Math.min(...d.map(w => w.goalWeight)) - 2;\n  ;\n}\nexport function maxValue(d) {\n  return Math.max(...d.map(w => w.currentWeight)) + 2;\n}\nexport function diff(d) {\n  return (latestRecord(d).currentWeight - latestRecord(d).goalWeight).toFixed(2);\n}\nexport function recordExists(d) {\n  const latest = latestRecord(d);\n  const currentDate = new Date();\n  return dateFormatter(latest.currentDate) === dateFormatter(currentDate);\n}\nexport async function updateRecord(id, currentDate, currentWeight, goalWeight) {\n  const weight = {\n    id: id,\n    currentDate: currentDate,\n    currentWeight: currentWeight,\n    goalWeight: goalWeight\n  };\n  return await fetch(`http://167.179.146.115:5000/api/weight/${id}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(weight)\n  });\n}\nexport async function createRecord(currentDate, currentWeight, goalWeight) {\n  const weight = {\n    currentDate: currentDate,\n    currentWeight: currentWeight,\n    goalWeight: goalWeight\n  };\n  return await fetch(\"http://167.179.146.115:5000/api/weight\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(weight)\n  });\n}","map":{"version":3,"names":["dateFormatter","d","date","Date","month","toLocaleDateString","day","dataFormatter","map","w","currentDate","currentWeight","goalWeight","latest","at","minValue","Math","min","maxValue","max","diff","latestRecord","toFixed","recordExists","updateRecord","id","weight","fetch","method","headers","body","JSON","stringify","createRecord"],"sources":["/home/chris/repos/lyfe/src/Lyfe.Web/src/Helpers/WeightTrackerHelpers.tsx"],"sourcesContent":["import { Weight } from \"../Interfaces/Weight\";\n\nexport function dateFormatter(d: Date) {\n  const date = new Date(d);\n  const month = date.toLocaleDateString(\"en-AU\", { month: \"short\" }); // Jan\n  const day = date.toLocaleDateString(\"en-AU\", { day: \"2-digit\" }); // 01\n\n  return `${month} ${day}`; // Jan 01\n}\n\nexport function dataFormatter(d: Weight[]) {\n  return d.map((w) => ({\n    \"Date\": dateFormatter(w.currentDate),\n    \"Weight\": w.currentWeight,\n    \"Goal Weight\": w.goalWeight\n  }));\n}\n\nexport function latest(d: Weight[]) {\n  return d.at(-1); // Get the last element from the array\n}\n\nexport function minValue(d: Weight[]) {\n  return Math.min(...d.map((w) => w.goalWeight)) - 2;;\n}\n\nexport function maxValue(d: Weight[]) {\n  return Math.max(...d.map((w) => w.currentWeight)) + 2;\n}\n\nexport function diff(d: Weight[]) {\n  return (latestRecord(d)!.currentWeight - latestRecord(d)!.goalWeight).toFixed(2);\n}\n\n\n\n\n\nexport function recordExists(d: Weight[]) {\n  const latest = latestRecord(d)!;\n  const currentDate = new Date();\n\n  return dateFormatter(latest.currentDate) === dateFormatter(currentDate);\n}\n\nexport async function updateRecord(id: number | undefined, currentDate: Date, currentWeight: number, goalWeight: number) {\n  const weight: Weight = {\n    id: id,\n    currentDate: currentDate,\n    currentWeight: currentWeight,\n    goalWeight: goalWeight\n  };\n\n  return await fetch(`http://167.179.146.115:5000/api/weight/${id}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(weight)\n  });\n}\n\nexport async function createRecord(currentDate: Date, currentWeight: number, goalWeight: number) {\n  const weight: Weight = {\n    currentDate: currentDate,\n    currentWeight: currentWeight,\n    goalWeight: goalWeight\n  };\n\n  return await fetch(\"http://167.179.146.115:5000/api/weight\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(weight),\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}